import{d as k,g as B,j as U,c as m,b as e,o as c,_ as I,k as n,l as Y,m as $,n as L,i as N,p as V,q as j,s as T,t as q,e as C,v as r,x as P,y as u,z as d,A as F,F as R,B as W,C as w,w as H,D as O,a as J,E as K,r as G}from"./main-hJlMxpLw.js";const A="/images/logo.png",Q={class:"avatar-upload"},X={class:"avatar-preview"},Z=["src"],ee="/public/images/default-avatar.jpg",te=k({__name:"AvatarUpload",setup(E){const a=B(),v=U(()=>{var s;return((s=a.userProfile)==null?void 0:s.photoURL)||ee});return(s,b)=>(c(),m("div",Q,[e("div",X,[e("img",{src:v.value,alt:"用户头像",class:"avatar-image"},null,8,Z)])]))}}),le=I(te,[["__scopeId","data-v-73f6f2c5"]]),ie={class:"profile-layout"},se={class:"profile-sidebar"},ae={class:"profile-card"},oe={class:"profile-menu"},ne={class:"profile-main"},re={id:"default-content"},ue={class:"profile-info"},de={class:"profile-section"},ce={class:"profile-section"},ve={class:"profile-section"},pe={class:"event-list-horizontal"},me=["onClick"],fe={style:{display:"flex","justify-content":"space-between","align-items":"center"}},ge={class:"profile-section"},_e=k({__name:"Profile",setup(E){const a=B(),v=N(),s=n("default"),b=Y(),f=i=>{s.value=i};$({currentSection:"default"});function z(){v.push("/profile/edit")}const M=i=>{if(!i)return"";const t=typeof i.toDate=="function"?i.toDate():new Date(i);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};L(async()=>{var i;if(!a.isLoggedIn){v.push("/login");return}try{const t=V(b,"events"),_=j(t,T("organizerId","==",(i=a.userProfile)==null?void 0:i.uid)),p=await q(_);S.value=p.docs.map(o=>{const l=o.data();let y="";if(l.startime){const D=typeof l.startime.toDate=="function"?l.startime.toDate():new Date(l.startime);y=D.toLocaleDateString()+" "+D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}return{id:o.id,title:l.title||"",description:l.description||"",location:l.location||"",category:l.category||"",tags:l.tags||[],startime:l.startime,endtime:l.endtime,maxParticipants:l.maxParticipants??null,organizerId:l.organizerId||"",organizerName:l.organizerName||"",organizerAvatar:l.organizerAvatar||"",createdAt:l.createdAt||"",participants:l.participants||[]}})}catch(t){console.error("获取发布的活动失败:",t)}});const S=n([]);n([]);const g=n(!1),h=n(null);function x(i){h.value=i,g.value=!0}return(i,t)=>{var p,o;const _=G("ElDialog");return c(),m("div",ie,[e("aside",se,[e("div",ae,[C(le),e("h2",null,"👤 "+r(((p=P(a).userProfile)==null?void 0:p.displayName)||"User"),1)]),e("div",oe,[e("ul",null,[e("li",null,[e("a",{href:"#",onClick:t[0]||(t[0]=l=>f("default"))},"🏠 Profile Home")]),e("li",null,[e("a",{href:"#",onClick:t[1]||(t[1]=l=>f("published"))},"📅 Published Events")]),e("li",null,[e("a",{href:"#",onClick:t[2]||(t[2]=l=>f("achievements"))},"🏆 Your Achievement")])])])]),e("main",ne,[u(e("div",re,[t[8]||(t[8]=e("h2",null,"👋 This is your profile!",-1)),e("div",ue,[t[4]||(t[4]=e("h3",null,"📄 Basic Information",-1)),t[5]||(t[5]=e("p",null,"🎓 Major: Computer Science & Math",-1)),e("p",null,"📞 Contact: "+r((o=P(a).userProfile)==null?void 0:o.email),1)]),t[9]||(t[9]=e("div",{class:"profile-tags"},[e("h3",null,"🏷️ Personal Tags"),e("ul",null,[e("li",null,"💻 Computer Science & Math"),e("li",null,"🏠 Dorm: McCarty Hall"),e("li",null,"🎭 Organization: Drama Club")])],-1)),e("div",{class:"profile-hobbies"},[t[6]||(t[6]=e("h3",null,"🎯 Personal Hobbies",-1)),t[7]||(t[7]=e("ul",null,[e("li",null,"🎵 Music"),e("li",null,"🏀 Basketball"),e("li",null,"📖 Reading")],-1)),e("button",{class:"edit-btn",onClick:z},"✏️ Edit Profile")]),t[10]||(t[10]=F('<div class="achievements"><h2>🏆 Your Achievements</h2><div class="achievement-badge"><img src="'+A+'" alt="UW Social Badge"><p>🎉 Congratulations! You have published 3 events!</p></div><div class="achievement-badge"><img src="'+w+'" alt="UW Social Badge"><p>🤝 You have made 5 new friends!</p></div></div>',1))],512),[[d,s.value==="default"]]),u(e("div",de,t[11]||(t[11]=[e("h3",null,"👥 My Friends",-1),e("ul",null,[e("li",null,"🧑‍💻 Alex (Computer Science)"),e("li",null,"🎨 Emily (Designer)"),e("li",null,"🎵 John (Music Club Member)")],-1)]),512),[[d,s.value==="friends"]]),u(e("div",ce,t[12]||(t[12]=[e("h3",null,"✨ People You May Know",-1),e("ul",null,[e("li",null,"🔍 Sophia (Business School)"),e("li",null,"🔍 David (International Student)"),e("li",null,"🔍 Mia (Artificial Intelligence)")],-1)]),512),[[d,s.value==="recommendations"]]),u(e("div",ve,[t[13]||(t[13]=e("h3",null,"📅 Published Events",-1)),e("div",pe,[(c(!0),m(R,null,W(S.value,l=>(c(),m("div",{key:l.id,class:"event-card-horizontal",onClick:y=>x(l),style:{cursor:"pointer"}},[e("h4",null,r(l.title),1),e("div",fe,[e("span",null,r(M(l.startime)),1),e("span",null,r(l.location),1)])],8,me))),128))])],512),[[d,s.value==="published"]]),u(e("div",ge,t[14]||(t[14]=[e("h3",null,"🏆 Your Achievements",-1),e("div",{class:"achievement-badge"},[e("img",{src:A,alt:"UW Social Badge"}),e("p",null,"🎉 Congratulations! You have published 3 events!")],-1),e("div",{class:"achievement-badge"},[e("img",{src:w,alt:"UW Social Badge"}),e("p",null,"🤝 You have made 5 new friends!")],-1)]),512),[[d,s.value==="achievements"]]),C(_,{modelValue:g.value,"onUpdate:modelValue":t[3]||(t[3]=l=>g.value=l),title:"Event Details",class:"custom-dialog"},{default:H(()=>[h.value?(c(),O(K,{key:0,event:h.value},null,8,["event"])):J("",!0)]),_:1},8,["modelValue"])])])}}});export{_e as default};
//# sourceMappingURL=Profile-B3gogxkq.js.map
