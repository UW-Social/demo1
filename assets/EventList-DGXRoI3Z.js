import{u as y}from"./event-D73PKLgd.js";import{d as _,j as D,c,o as s,g as l,i as C,t as r,n as k,k as w,u as L,l as $,F as E,m as S,h as N,_ as T}from"./main-V8uREbGC.js";const B={class:"event-time"},q={class:"description"},z={key:0,class:"event-link"},V=["href"],j=_({__name:"EventCard",props:{event:{}},setup(p){const d=p,a=D(),u=t=>{if(!t)return"";const n=typeof t.toDate=="function"?t.toDate():new Date(t);let[o,e]=n.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0}).split(" ");e=(e==null?void 0:e.toLowerCase())||"";const i=n.toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"});return`${o}${e} ${i}`},v=()=>{a.openDialog(d.event)};return(t,n)=>(s(),c("div",{class:"card event-card",onClick:v},[l("h3",{class:k(["event-title",`category-${t.event.category}`])},r(t.event.title),3),l("p",B,r(u(t.event.startime))+"--"+r(u(t.event.endtime)),1),l("p",null,"Location: "+r(t.event.location),1),l("p",q,r(t.event.description),1),t.event.link?(s(),c("p",z,[l("a",{href:t.event.link,target:"_blank",rel:"noopener noreferrer"},r(t.event.link),9,V)])):C("",!0)]))}}),F={class:"event-list"},O={key:0,class:"loading"},b={key:1,class:"events-grid"},I=_({__name:"EventList",props:{category:{}},setup(p){const d=p,a=y(),u=L(),v=w(()=>{let t=d.category?a.events.filter(e=>e.category===d.category):a.events;const n=(u.query.q||"").toLowerCase();n&&(t=t.filter(e=>e.title.toLowerCase().includes(n)||e.description.toLowerCase().includes(n)||e.location&&e.location.toLowerCase().includes(n)||e.tags&&e.tags.join(",").toLowerCase().includes(n)||e.organizerName&&e.organizerName.toLowerCase().includes(n)));const o=new Date;return t=t.filter(e=>{var m;return(typeof((m=e.endtime)==null?void 0:m.toDate)=="function"?e.endtime.toDate():new Date(e.endtime))>o}),t.slice().sort((e,i)=>{var f,g;const m=typeof((f=e.startime)==null?void 0:f.toDate)=="function"?e.startime.toDate():new Date(e.startime),h=typeof((g=i.startime)==null?void 0:g.toDate)=="function"?i.startime.toDate():new Date(i.startime);return m.getTime()-h.getTime()})});return $(()=>{a.events.length===0&&a.fetchEvents()}),(t,n)=>(s(),c("div",F,[v.value.length===0?(s(),c("div",O,"No events found. You may need VPN.")):(s(),c("div",b,[(s(!0),c(E,null,S(v.value,o=>(s(),N(j,{key:o.id,event:o,onOpenCard:e=>t.$emit("open-card",o)},null,8,["event","onOpenCard"]))),128))]))]))}}),R=T(I,[["__scopeId","data-v-0147bffa"]]);export{R as E};
//# sourceMappingURL=EventList-DGXRoI3Z.js.map
