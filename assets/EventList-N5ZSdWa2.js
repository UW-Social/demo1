import{u as D}from"./event-SlV5Bnt4.js";import{d as g,I as _,c as d,o as s,b as i,a as h,v as c,J as y,h as f,j as k,n as E,F as C,B as $,D as S,_ as T}from"./main-hJlMxpLw.js";const w={class:"event-time"},L={class:"description"},B={key:0,class:"event-link"},b=["href"],N=g({__name:"EventCard",props:{event:{}},setup(m){const v=m,a=_(),l=t=>{if(!t)return"";const e=typeof t.toDate=="function"?t.toDate():new Date(t),o=e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",hour12:!0}),r=e.toLocaleDateString(void 0,{year:"numeric",month:"2-digit",day:"2-digit"});return`${o} ${r}`},n=()=>{a.openDialog(v.event)};return(t,e)=>(s(),d("div",{class:"card event-card",onClick:n},[i("h3",{class:y(["event-title",`category-${t.event.category}`])},c(t.event.title),3),i("p",w,[f(" Starts at "+c(l(t.event.startime)),1),e[0]||(e[0]=i("br",null,null,-1)),f(" Ends at "+c(l(t.event.endtime)),1)]),i("p",null,"Location: "+c(t.event.location),1),i("p",L,c(t.event.description),1),t.event.link?(s(),d("p",B,[i("a",{href:t.event.link,target:"_blank",rel:"noopener noreferrer"},c(t.event.link),9,b)])):h("",!0)]))}}),V={class:"event-list"},F={key:0,class:"loading"},I={key:1,class:"events-grid"},O=g({__name:"EventList",props:{category:{}},setup(m){const v=m,a=D(),l=k(()=>{let n=v.category?a.events.filter(e=>e.category===v.category):a.events;const t=new Date;return n=n.filter(e=>{var r;return(typeof((r=e.endtime)==null?void 0:r.toDate)=="function"?e.endtime.toDate():new Date(e.endtime))>t}),n.slice().sort((e,o)=>{var u,p;const r=typeof((u=e.startime)==null?void 0:u.toDate)=="function"?e.startime.toDate():new Date(e.startime);return(typeof((p=o.startime)==null?void 0:p.toDate)=="function"?o.startime.toDate():new Date(o.startime)).getTime()-r.getTime()})});return E(()=>{a.events.length===0&&a.fetchEvents()}),(n,t)=>(s(),d("div",V,[l.value.length===0?(s(),d("div",F,"No events found.")):(s(),d("div",I,[(s(!0),d(C,null,$(l.value,e=>(s(),S(N,{key:e.id,event:e,onOpenCard:o=>n.$emit("open-card",e)},null,8,["event","onOpenCard"]))),128))]))]))}}),M=T(O,[["__scopeId","data-v-42dc81b2"]]);export{M as E};
//# sourceMappingURL=EventList-N5ZSdWa2.js.map
